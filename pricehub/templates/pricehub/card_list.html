{% extends 'pricehub/base.html' %}

{% block title %}{{ expansion.name }} - ì¹´ë“œ ëª©ë¡{% endblock %}

{% block breadcrumb %}
<div class="breadcrumb">
    <a href="{% url 'pricehub:expansion_list' %}">í™•ì¥íŒ© ëª©ë¡</a> &gt; {{ expansion.name }}
</div>
{% endblock %}

{% block content %}
<div style="margin-bottom: 30px;">
    <h2>{{ expansion.name }} ({{ expansion.code }})</h2>
    <p style="color: #666; margin-top: 10px;">ì´ {{ cards.count }}ì¥</p>
</div>

<div style="overflow-x: auto;">
    <table style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden;">
        <thead style="background: #667eea; color: white;">
            <tr>
                <th style="padding: 15px; text-align: left;">ì¹´ë“œë²ˆí˜¸</th>
                <th style="padding: 15px; text-align: left;">ì´ë¯¸ì§€</th>
                <th style="padding: 15px; text-align: left;">ì¹´ë“œëª…</th>
                <th style="padding: 15px; text-align: center;">ë ˆì–´ë„</th>
                <th style="padding: 15px; text-align: right;">ì¼ë°˜ ìµœì €ê°€</th>
                <th style="padding: 15px; text-align: right;">TCG999</th>
                <th style="padding: 15px; text-align: center;">ìƒì„¸</th>
            </tr>
        </thead>
        <tbody>
            {% for card in cards %}
            <tr style="border-bottom: 1px solid #eee;">
                <td style="padding: 15px;">{{ card.card_number }}</td>
                <td style="padding: 15px;">
                    {% if card.image_url %}
                    <img src="{{ card.image_url }}" alt="{{ card.name }}" 
                         style="width: 60px; height: 80px; object-fit: cover; border-radius: 5px;">
                    {% else %}
                    <div style="width: 60px; height: 80px; background: #f0f0f0; border-radius: 5px; display: flex; align-items: center; justify-content: center;">
                        ğŸ´
                    </div>
                    {% endif %}
                </td>
                <td style="padding: 15px; font-weight: 500;">{{ card.name }}</td>
                <td style="padding: 15px; text-align: center;">
                    <span style="background: #f0f0f0; padding: 5px 10px; border-radius: 3px; font-size: 0.9em;">
                        {{ card.rarity }}
                    </span>
                </td>
                <td style="padding: 15px; text-align: right; font-weight: 500;">
                    {% if card.latest_general_price %}
                        {{ card.latest_general_price|floatformat:0 }}ì›
                        <br><span style="font-size: 0.8em; color: #999;">{{ card.latest_general_source }}</span>
                    {% else %}
                        <span style="color: #999;">-</span>
                    {% endif %}
                </td>
                <td style="padding: 15px; text-align: right; font-weight: 500; color: #667eea;">
                    {% if card.latest_tcg999_price %}
                        {{ card.latest_tcg999_price|floatformat:0 }}ì›
                    {% else %}
                        <span style="color: #999;">-</span>
                    {% endif %}
                </td>
                <td style="padding: 15px; text-align: center;">
                    <a href="{% url 'pricehub:card_detail' card.id %}" class="btn" style="padding: 5px 15px; font-size: 0.9em;">
                        ğŸ“Š ì°¨íŠ¸
                    </a>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="7" style="padding: 50px; text-align: center; color: #999;">
                    ë“±ë¡ëœ ì¹´ë“œê°€ ì—†ìŠµë‹ˆë‹¤.
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}